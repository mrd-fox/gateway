#GATEWAY IN LOCAL MODE
BASE_DOMAIN=localhost

# =======================================
# üîß Spring Profile
SPRING_PROFILES_ACTIVE=dev

# =======================================
# üåê Gateway (local)
SERVER_ADDRESS=0.0.0.0
SERVER_PORT=8080

# =======================================
# ‚öôÔ∏è Backend (local)
# Modulith backend accessible en local (hors Docker)
BACKEND_URI=http://localhost:10020

# =======================================
# üß© Keycloak (Docker)
KEYCLOAK_ISSUER_URI=http://localhost:8085/realms/skillshub
KEYCLOAK_JWK_URI=http://localhost:8085/realms/skillshub/protocol/openid-connect/certs

# =======================================
# üç™ Gateway IAM cookie settings (NOUVEAU)
# Utilis√© par CookieService + SessionService + JwtDecoderService
SKILLSHUB_AUTH_COOKIE_NAME=SKILLSHUB_AUTH
SKILLSHUB_AUTH_COOKIE_DOMAIN=localhost
SKILLSHUB_AUTH_COOKIE_SECURE=false
SKILLSHUB_AUTH_COOKIE_PATH=/

# =======================================
# üé® Frontend (Docker)
# NOTE: le conteneur du frontend doit inclure :
# extra_hosts:
#   - "host.docker.internal:host-gateway"
ALLOWED_ORIGIN_1=http://host.docker.internal:8080
ALLOWED_ORIGIN_2=http://127.0.0.1:8080

# =======================================
# üîê Redirect URIs for SessionService
SKILLSHUB_REDIRECT_AFTER_LOGIN=http://host.docker.internal:5173/auth/dashboard
SKILLSHUB_REDIRECT_AFTER_LOGOUT=http://host.docker.internal:5173/
SKILLSHUB_REDIRECT_URI=http://localhost:8080/api/auth/callback

COOKIE_SECURE=true
COOKIE_SAME_SITE=None
